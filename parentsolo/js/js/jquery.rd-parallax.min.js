/**
 * @module       RD Parallax
 * @author       Evgeniy Gusarov
 * @see          https://ua.linkedin.com/pub/evgeniy-gusarov/8a/a40/54a
 * @version      3.6.5
 */
(function(){!function(e,t,n){var i,o,s,r,a,l,f,p,h,u,d;return p=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),r=/Chrome/.test(navigator.userAgent),u=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)||/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),a=p&&/crios/i.test(navigator.userAgent),h=/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),f=navigator.appVersion.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>-1,d=/windows nt 6.2/.test(navigator.userAgent.toLowerCase())||/windows nt 6.3/.test(navigator.userAgent.toLowerCase()),s=null!=t.body.classList,o=!!r&&navigator.userAgent.replace(/^.*Chrome\/([\d\.]+).*$/i,"$1"),l=o>="55.0.2883.75",i=function(){function i(t){this.options=e.extend(!0,{},this.Defaults,t),this.scenes=[],this.initialize(),this.scrollY=n.scrollY||n.pageYOffset,this.lastScrollY=-1,this.lastDocHeight=0,this.inputFocus=!1,this.checkLayerHeight=!1}var o,g;return o=function(){function e(e,n,i,o,s,r,a){switch(this.amend=u||f||p?l?0:60:0,this.element=e,this.aliases=n,this.type=e.getAttribute("data-type")||"html","html"===this.type&&(this.holder=this.createHolder()),this.direction="normal"===e.getAttribute("data-direction")||null==e.getAttribute("data-direction")?1:-1,this.fade="true"===e.getAttribute("data-fade"),this.blur="true"===e.getAttribute("data-blur"),this.boundTo=t.querySelector(e.getAttribute("data-bound-to")),"media"===this.type&&(this.url=e.getAttribute("data-url")),this.responsive=this.getResponsiveOptions(),!f&&!p||p||d&&f?this.element.style.position="absolute":this.element.style.position="fixed",this.type){case"media":null!=this.url&&(this.element.style["background-image"]="url("+this.url+")");break;case"html":f&&p&&(this.element.style["z-index"]=1)}this.refresh(i,o,s,r,a)}return e.prototype.refresh=function(e,t,n,i,o){var s;switch(s=this,s.speed=s.getOption("speed",e)||0,s.offset=s.getOption("offset",e)||0,p||d&&f||(o?s.element.style.position="fixed":s.element.style.position="absolute"),f&&"html"===s.type&&(s.element.style.position="absolute"),s.type){case"media":if(!f)return s.offsetHeight=s.getMediaHeight(t,i,s.speed,s.direction),s.element.style.height=s.offsetHeight+"px";break;case"html":if(s.element.style.width=this.holder.offsetWidth+"px",s.offsetHeight=s.element.offsetHeight,s.holder.style.height=s.offsetHeight+"px",!(!f&&!p||p||d&&f))return f?s.element.style.position="static":o&&(s.element.style.left=s.getOffset(s.holder).left+"px",s.element.style.top=s.getOffset(s.holder).top-n+"px"),s.holder.style.position="static";break;case"custom":return s.offsetHeight=s.element.offsetHeight}},e.prototype.createHolder=function(){var e,n;return n=this,e=t.createElement("div"),s?e.classList.add("rd-parallax-layer-holder"):e.className="rd-parallax-layer-holder",n.element.parentNode.insertBefore(e,n.element),e.appendChild(n.element),(!f&&!p||a)&&(e.style.position="relative"),e},e.prototype.isHolderWrong=function(){var e;return e=this,"html"===e.type&&e.holder.offsetHeight!==e.element.offsetHeight},e.prototype.getOption=function(e,t){var n,i,o;n=this;for(i in n.responsive)i<=t&&(o=i);return n.responsive[o][e]},e.prototype.getResponsiveOptions=function(){var e,t,n,i,o,s,r,a,l,f,p;f={},l=[],t=[],a=this.aliases;for(n in a)e=a[n],l.push(n),t.push(e);for(n=o=0,s=l.length;o<s;n=++o)for(r=l[n],f[r]={};(i=n)>=-1;)!f[r].speed&&(p=this.element.getAttribute("data"+t[i]+"speed"))&&(f[r].speed=this.getSpeed(p)),!f[r].offset&&(p=this.element.getAttribute("data"+t[i]+"offset"))&&(f[r].offset=parseInt(p)),!f[r].fade&&(p=this.element.getAttribute("data"+t[i]+"fade"))&&(f[r].fade="true"===p),n--;return f},e.prototype.fuse=function(e,t){var n,i,o,s,r,a;n=this,o=n.getOffset(n.element).top+n.element.getBoundingClientRect().top,a=e+t/2,i=o+n.offsetHeight/2,r=t/6,a+r>i&&a-r<i?n.element.style.opacity=1:(s=a-r<i?1+(a+r-i)/t/3*10:1-(a-r-i)/t/3*10,n.element.style.opacity=s<0?0:s>1?1:s.toFixed(2))},e.prototype.move=function(e,t,n,i,o,s,r,l,h){var g,c,m,y,v;if(m=this,!(f&&"media"===m.type||p||d&&f)){if(!r)return u&&(m.element.style["-webkit-transform"]="translate3d(0,0,0)"),void(m.element.style.transform="translate3d(0,0,0)");v=!p||"html"===m.type&&h||a?m.speed*m.direction:m.speed*m.direction-1,c=m.offsetHeight,null!=l?g=(i+n-(l+n))/(n-o):"media"!==m.type&&(i<n||i>s-n)?(g=i<n?i/(n-o):(i+n-s)/(n-o),isFinite(g)||(g=0)):g=.5,y=a||f?(o-c)/2+(n-o)*g*v+m.offset:p?-(i-e)*v+(o-c)/2+(n-o)*g*(v+1)+m.offset:-(i-e)*v+(o-c)/2+(n-o)*g*v+m.offset,p&&null!=l&&(m.element.style.top=i-l+"px"),u&&(this.element.style["-webkit-transform"]="translate3d(0,"+y+"px,0)"),this.element.style.transform="translate3d(0,"+y+"px,0)"}},e.prototype.getSpeed=function(e){return Math.min(Math.max(parseFloat(e),0),2)},e.prototype.getMediaHeight=function(e,t,n,i){var o;return o=i===-1?(t+e)*n:0,t+o+(n<=1?Math.abs(e-t)*n:e*n)+2*this.amend},e.prototype.getOffset=function(e){var t,i,o;return t=e.getBoundingClientRect(),i=t.left+(n.scrollX||n.pageXOffset),o=t.top+(n.scrollY||n.pageYOffset),{top:o,left:i}},e}(),g=function(){function i(e,n,i,o){var s;s=this,s.amend=u&&!l?60:0,s.element=e,s.aliases=n,s.on=!0,s.agent=t.querySelector(e.getAttribute("data-agent")),s.anchor=s.findAnchor(),s.canvas=s.createCanvas(),s.layers=s.createLayers(i),s.fitTo=s.getFitElement(),s.responsive=s.getResponsiveOptions(),s.refresh(i,o)}return i.prototype.getFitElement=function(){var e,n;return n=this,null!=(e=n.element.getAttribute("data-fit-to"))?"parent"===e?n.element.parentNode:t.querySelector(e):null},i.prototype.findAnchor=function(){var e,n;for(n=this,e=n.element.parentNode;null!=e&&e!==t;){if(n.isTransformed.call(e))return e;e=e.parentNode}return null},i.prototype.createCanvas=function(){var e,n;for(n=this,e=t.createElement("div"),s?e.classList.add("rd-parallax-inner"):e.className="rd-parallax-inner",n.element.appendChild(e);n.element.firstChild!==e;)e.appendChild(n.element.firstChild);return n.element.style.position="relative",n.element.style.overflow="hidden",f||p?(e.style.position="absolute",d&&f||(e.style.clip="rect(0, auto, auto, 0)"),f?e.style.transform="translate3d(0,0,0)":e.style.transform="none"):e.style.position="fixed",e.style.left=n.offsetLeft+"px",e.style.top=0,u&&(e.style["margin-top"]="-"+n.amend+"px",e.style.padding=n.amend+"px 0",n.element.style["z-index"]=0),e},i.prototype.getOption=function(e,t){var n,i;for(n in this.responsive)n<=t&&(i=n);return this.responsive[i][e]},i.prototype.getResponsiveOptions=function(){var e,t,n,i,o,s,r,a,l,f,p;f={},l=[],t=[],a=this.aliases;for(n in a)e=a[n],l.push(n),t.push(e);for(n=o=0,s=l.length;o<s;n=++o)for(r=l[n],f[r]={};(i=n)>=-1;)f[r].on||null==(p=this.element.getAttribute("data"+t[i]+"on"))||(f[r].on="false"!==p),null==f[r].on&&0===i&&(f[r].on=!0),n--;return f},i.prototype.createLayers=function(t,n){var i,s,r,a,l,f,p;for(p=this,s=e(p.element).find(".rd-parallax-layer").get(),l=[],r=a=0,f=s.length;a<f;r=++a)i=s[r],l.push(new o(i,p.aliases,t,n,p.offsetTop,p.offsetHeight,p.on));return l},i.prototype.move=function(e){var t,n;return n=this,t=null!=n.anchor?n.positionTop:n.offsetTop-e,u&&(n.canvas.style["-webkit-transform"]="translate3d(0,"+t+"px,0)"),n.canvas.style.transform="translate3d(0,"+t+"px,0)"},i.prototype.refresh=function(e,t){var n,i,o,s,r,a,l,f;for(f=this,a=[],f.on=f.getOption("on",e),f.offsetTop=f.getOffset(f.element).top,f.offsetLeft=f.getOffset(f.element).left,f.width=f.element.offsetWidth,f.canvas.style.width=f.width+"px",null!=f.anchor&&(f.positionTop=f.element.offsetTop),null!=f.agent?(f.agentOffset=f.getOffset(f.agent).top,f.agentHeight=f.agent.offsetHeight):f.agentOffset=f.agentHeight=null,l=f.layers,n=0,s=l.length;n<s;n++)o=l[n],"media"===o.type?a.push(o):o.refresh(e,t,f.offsetTop,f.offsetHeight,f.on);for(f.offsetHeight=f.canvas.offsetHeight-2*f.amend,f.element.style.height=f.offsetHeight+"px",i=0,r=a.length;i<r;i++)o=a[i],o.refresh(e,t,f.offsetTop,f.offsetHeight,f.on)},i.prototype.update=function(e,t,n,i,o){var s,r,a,l,h,u,d,g;for(u=this,g=u.offsetTop,d=u.offsetHeight,f||p||u.move(e),l=u.layers,h=[],s=0,a=l.length;s<a;s++)r=l[s],r.move(e,t,n,g,d,i,u.on,u.agentOffset,o),r.fade=r.getOption("fade",t)||!1,!r.fade||p||f?h.push(void 0):h.push(r.fuse(g,d));return h},i.prototype.isTransformed=function(){var e,t,i,o;e=this,o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(t in o)o.hasOwnProperty(t)&&null!=e.style[t]&&(i=n.getComputedStyle(e).getPropertyValue(o[t]));return null!=i&&i.length>0&&"none"!==i},i.prototype.getOffset=function(e){var t,i,o;return t=e.getBoundingClientRect(),i=t.left+(n.scrollX||n.pageYOffset),o=t.top+(n.scrollY||n.pageYOffset),{top:o,left:i}},i}(),i.prototype.Defaults={selector:".rd-parallax",screenAliases:{0:"-",480:"-xs-",768:"-sm-",992:"-md-",1200:"-lg-",1920:"-xl-",2560:"-xxl-"}},i.prototype.initialize=function(){var i,o,s,r,a,l,f,p;for(i=this,s=t.querySelectorAll(i.options.selector),p=n.innerWidth,f=n.innerHeight,r=a=0,l=s.length;a<l;r=++a)o=s[r],i.scenes.push(new g(o,i.options.screenAliases,p,f));e(n).on("resize",e.proxy(i.resize,i)),h&&e("input").on("focusin focus",function(t){return t.preventDefault(),i.activeOffset=e(this).offset().top,n.scrollTo(n.scrollX||n.pageXOffset,i.activeOffset-this.offsetHeight-100)}),e(n).trigger("resize"),i.update(),i.checkResize()},i.prototype.resize=function(e){var i,o,s,r,a,l;if(i=this,(o=n.innerWidth)!==i.windowWidth||!p||e){for(i.windowWidth=o,i.windowHeight=n.innerHeight,i.documentHeight=t.body.offsetHeight,a=i.scenes,s=0,r=a.length;s<r;s++)l=a[s],l.refresh(i.windowWidth,i.windowHeight);return i.update(!0)}},i.prototype.update=function(e){var i,o,s,a,l,f,u,d,g,c,m,y;if(o=this,e||requestAnimationFrame(function(){o.update()}),c=n.scrollY||n.pageYOffset,h&&null!=(i=t.activeElement)&&(i.tagName.match(/(input)|(select)|(textarea)/i)?(o.activeElement=i,o.inputFocus=!0):(o.activeElement=null,o.inputFocus=!1,e=!0)),p&&r&&(s=n.innerHeight-o.windowHeight,o.deltaHeight=s,c-=o.deltaHeight),(c!==o.lastScrollY||e)&&!o.isActing){for(o.isActing=!0,y=o.windowWidth,m=o.windowHeight,l=o.documentHeight,a=c-o.lastScrollY,h&&null!=o.activeElement&&(o.activeElement.value=o.activeElement.value+" ",o.activeElement.value=o.activeElement.value.trim()),d=o.scenes,f=0,u=d.length;f<u;f++)g=d[f],(o.inputFocus||e||c+m>=(g.agentOffset||g.offsetTop)+a&&c<=(g.agentOffset||g.offsetTop)+(g.agentHeight||g.offsetHeight)+a)&&g.update(c,y,m,l,o.inputFocus);return o.lastScrollY=c,o.isActing=!1}},i.prototype.checkResize=function(){var e;e=this,setInterval(function(){var n,i,o,s,r,a,l,f,p;for(n=t.body.offsetHeight,l=e.scenes,i=0,r=l.length;i<r;i++){for(p=l[i],f=p.layers,o=0,a=f.length;o<a;o++)if(s=f[o],s.isHolderWrong()){e.checkLayerHeight=!0;break}if(e.checkLayerHeight)break}if(e.checkLayerHeight||n!==e.lastDocHeight)return e.resize(!0),e.lastDocHeight=n,e.checkLayerHeight=!1},500)},i}(),e.RDParallax=function(n){var o;if(o=e(t),!o.data("RDParallax"))return o.data("RDParallax",new i(n))},n.RDParallax=i}(window.jQuery,document,window),"undefined"!=typeof module&&null!==module?module.exports=window.RDParallax:"function"==typeof define&&define.amd&&define(["jquery"],function(){"use strict";return window.RDParallax})}).call(this);